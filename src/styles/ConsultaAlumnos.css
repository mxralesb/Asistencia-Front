/* ===== Tokens (ajústalos si quieres) ===== */
:root{
  --violet-50:#faf5ff; --violet-100:#f3e8ff; --violet-200:#e9d5ff;
  --violet-500:#a855f7; --violet-600:#7c3aed; --violet-700:#6d28d9; --violet-800:#5b21b6;
  --slate-50:#f8fafc; --slate-100:#f1f5f9; --slate-200:#e5e7eb; --slate-600:#475569;
  --red-100:#fee2e2; --red-800:#991b1b; --green-100:#dcfce7; --green-800:#166534;
  --radius-lg:14px; --radius-md:12px; --ring:0 0 0 3px rgba(168,85,247,.25);
  --shadow-sm:0 1px 2px rgba(10,10,10,.06); --shadow-md:0 8px 20px rgba(91,59,138,.15);
  --text:#4b347d; --bg:#fff;
}

/* ===== Layout ===== */
.page{max-width:1100px;margin:0 auto;padding:16px;font-family:system-ui,-apple-system,Segoe UI,Roboto;color:var(--text);}
.consulta-alumnos{margin:24px auto;background:var(--bg);padding:24px 28px;border-radius:var(--radius-lg);box-shadow:var(--shadow-md);animation:fadeUp .4s;}
@keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

/* ===== Header ===== */
.header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:14px}
.header h2{margin:0;font-weight:800;color:var(--violet-800)}
.results-pill{background:#efe9fb;color:#5b3b8a;padding:6px 10px;border:1px solid #d8c8f2;border-radius:999px;font:700 12px/1 system-ui}

/* ===== Filtros ===== */
.filters-card{background:#fff;border:1px solid #e9e2f7;border-radius:var(--radius-lg);padding:16px;box-shadow:var(--shadow-sm);margin-bottom:16px}
.filters-grid{display:grid;gap:12px;grid-template-columns:repeat(4,minmax(180px,1fr))}
@media (max-width:900px){.filters-grid{grid-template-columns:repeat(2,1fr)}} 
@media (max-width:560px){.filters-grid{grid-template-columns:1fr}}
.field{display:flex;flex-direction:column;gap:6px}
.field label{font:700 12px/1 system-ui;color:var(--violet-700)}
.field input,.field select{padding:10px 12px;border:1.5px solid var(--violet-200);border-radius:var(--radius-md);background:#fbf9ff;transition:.18s}
.field input:focus,.field select:focus{border-color:var(--violet-500);box-shadow:var(--ring);outline:0}
.filters-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:10px}

/* ===== Botones ===== */
.btn{display:inline-flex;align-items:center;gap:6px;background:linear-gradient(135deg,var(--violet-600),var(--violet-500));color:#fff;border:0;border-radius:var(--radius-md);padding:8px 12px;font-weight:700;box-shadow:0 4px 10px rgba(91,59,138,.25);transition:.18s}
.btn:hover{filter:brightness(1.06);box-shadow:0 6px 14px rgba(91,59,138,.35)}
.btn:active{transform:translateY(1px)}
.btn.secondary{background:#f8f5ff;color:#5b3b8a;border:1px solid #d8c8f2;box-shadow:none}

/* ===== Tabla ===== */
.table-wrapper{background:#fff;border:1px solid #e9e2f7;border-radius:var(--radius-lg);overflow:hidden;box-shadow:var(--shadow-sm)}
.nice-table{width:100%;border-collapse:collapse}
.nice-table thead th{background:#f6f2ff;color:#5b3b8a;text-align:left;padding:12px;font-size:12px;border-bottom:1px solid #e9e2f7}
.nice-table tbody td{padding:12px;border-bottom:1px solid var(--slate-100)}
.nice-table tbody tr:hover{background:#faf7ff}

/* Estado */
.badge{display:inline-block;padding:4px 8px;border-radius:999px;font:800 12px/1 system-ui}
.badge.ok{background:var(--green-100);color:var(--green-800)}
.badge.warn{background:var(--red-100);color:var(--red-800)}

/* QR & acciones */
.qr-thumb{width:48px;height:48px;object-fit:contain}
.col-actions,.row-actions{text-align:right}
.loading,.empty{margin-top:20px;color:var(--slate-600)}

/* ===== Ordenables & errores ===== */
.th-sort{all:unset;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-weight:700;color:#5b3b8a;padding:6px 8px;border-radius:8px}
.th-sort:hover,.th-sort:focus{background:rgba(91,59,138,.08);outline:0}
.sort-caret{font-size:12px;color:#7b64c1}
.error-banner{background:#fff7f7;border:1px solid #ffd1d1;color:#8a2433;padding:10px 12px;border-radius:10px;margin-bottom:12px;box-shadow:0 2px 6px rgba(255,49,85,.08)}

/* ===== Responsive: tabla -> tarjetas ===== */
@media (max-width:640px){
  .header{flex-direction:column;align-items:flex-start;gap:10px}
  .results-pill{font-size:11px;padding:4px 8px}
  .table-wrapper{border:none;box-shadow:none;background:transparent}
  .nice-table thead{display:none}
  .nice-table{border-collapse:separate;border-spacing:0 12px}
  .nice-table tbody tr{display:block;background:#fff;border:1px solid #e9e2f7;border-radius:var(--radius-lg);padding:12px;box-shadow:0 1px 2px rgba(91,59,138,.06)}
  .nice-table tbody td{display:grid;grid-template-columns:110px 1fr;gap:8px;padding:8px 0;border-bottom:0;font-size:14px;color:#3f2e67}
  .nice-table tbody td+td{border-top:1px dashed #e9e2f7}
  .nice-table tbody td:nth-child(1)::before{content:"Nombre"}
  .nice-table tbody td:nth-child(2)::before{content:"Carnet"}
  .nice-table tbody td:nth-child(3)::before{content:"Grado"}
  .nice-table tbody td:nth-child(4)::before{content:"Estado"}
  .nice-table tbody td:nth-child(5)::before{content:"Maestro"}
  .nice-table tbody td:nth-child(6)::before{content:"QR"}
  .nice-table tbody td:nth-child(7)::before{content:"Acciones"}
  .nice-table tbody td::before{color:#6e5aa6;font:700 12px/1 system-ui;text-transform:uppercase;letter-spacing:.02em}
  .qr-thumb{width:72px;height:72px}
  .row-actions .btn{width:100%;justify-content:center}
}

/* ===== Accesibilidad ===== */
.th-sort:focus-visible,.btn:focus-visible,.field input:focus-visible,.field select:focus-visible{outline:2px solid #7b64c1;outline-offset:2px}

/* Botones responsivos en panel de filtros */
@media (max-width: 560px) {
  .filters-actions {
    justify-content: stretch;
    flex-wrap: wrap;
    gap: 8px;
  }
  .filters-actions .btn,
  .filters-actions .btn.secondary {
    width: 100%;
  }
}

/* Botón de acciones por fila (tabla -> tarjetas en móvil) */
@media (max-width: 640px) {
  .row-actions .btn {
    width: 100%;
    justify-content: center;
  }
}

/* Botones generales dentro de contenedores estrechos */
@media (max-width: 400px) {
  .btn {
    width: 100%;
  }
}

.filters-actions { width: 100%; }
